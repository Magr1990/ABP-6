{% extends 'tasks/base.html' %}

{% block content %}
<div class="card mb-4 shadow-sm">
    <div class="card-header d-flex justify-content-between align-items-center">
        <h3 class="mb-0">{{ task.title }}</h3>
        <span class="badge bg-{% if task.status == 'completed' %}success{% elif task.status == 'in_progress' %}primary{% else %}warning{% endif %} fs-6">
            {{ task.get_status_display }}
        </span>
    </div>
    <div class="card-body">
        <p class="lead">{{ task.description }}</p>
        <hr>
        <div class="row mb-3">
            <div class="col-md-6">
                <strong>Proyecto:</strong> {{ task.project.name }}
            </div>
            <div class="col-md-6">
                <strong>Prioridad:</strong> 
                <span class="badge bg-{% if task.priority == 'urgent' %}danger{% elif task.priority == 'high' %}warning{% elif task.priority == 'medium' %}info{% else %}secondary{% endif %}">
                    {{ task.get_priority_display }}
                </span>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <strong>Asignado a:</strong> {{ task.assigned_to.username|default:"Sin asignar" }}
            </div>
            <div class="col-md-6">
                <strong>Fecha LÃ­mite:</strong> {{ task.due_date }}
            </div>
        </div>
    </div>
    <div class="card-footer">
        <a href="{% url 'task_update' task.pk %}" class="btn btn-warning">Editar</a>
        <a href="{% url 'task_list' %}" class="btn btn-secondary">Volver</a>
    </div>
</div>
{% endblock %}